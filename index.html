<!DOCTYPE html>
<html lang="en-US">

<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="styles.css">
  <title>Microservice Documentation</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>
<nav>
  <h1>Microservice Documentation</h1>
</nav>

<main>
<!--
  two buttons for uploading json graphs, one for kiali format, one for manually 
  written graphs in own standard format
  Uploading a graph will result in the drawing of this graph inside the graphbox 
  or an error message if the format is wrong
-->
<p>
    <input type="file" id="graph_file_kiali" name="graph_file_kiali" accept=".json" class="filechooser"/>
    <label for="graph_file_kiali">Upload Kiali Graph</label>
    <input type="file" id="graph_file" name="graph_file" accept=".json" class="filechooser"/>
    <label for="graph_file">Upload Standard Graph</label>
    <!--
      Button for graph download 
    -->
    <a id="download" class="button">Download Graph</a>
</p>

<!--
  Box to hold graph
-->
<div id="graphbox" class="contentbox">
  <!--
    node for system documentation, invisible by default
  -->
  <a id="system_name"></a>

  <!--
    Graph image
  -->
  <svg id="image"> </svg>

  <p>
    Click on the graphs nodes to see the documentation for a specific service.<br>
  </p>
</div>

</main>

<footer>
  <table>
  <tr>
    <td><a style="color:white;" href="about.html">About</a></td>
    <td><a style="color:white;" href="contact.html">Contact</a></td>
  </tr>
  </table>
</footer>

<!--
  Scripts should be at the bottom of the body, because their compilation
  slows down the display of visual elements while loading the page
-->
<!--
  Include graph rendering libraries
-->
<script src="node_modules/lodash/lodash.js"></script>
<script src="node_modules/graphlib/dist/graphlib.js"></script>
<script src="node_modules/dagre/dist/dagre.js"></script>
<script src="node_modules/d3/build/d3.js"></script>
<script src="node_modules/dagre-d3/dist/dagre-d3.js"></script>

<!--
  Include code to upload, download and draw graph
-->
<script src="graph.js"></script>

</body>
</html>
